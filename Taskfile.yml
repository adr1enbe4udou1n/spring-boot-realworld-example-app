version: "3"

tasks:
  prepare:
    cmds: []
  install:
    cmds: []
  lint:
    cmds: []
  build:
    cmds:
      - gradle build
      - gradle sonar -Dsonar.host.url={{.SONAR_URL}} -Dsonar.projectName="Spring Boot Realworld" -Dsonar.projectKey={{.SONAR_PROJECT_KEY}} -Dsonar.token={{.SONAR_TOKEN}}
  test:
    cmds:
      - gradle test jacocoTestReport sonar -Dsonar.host.url={{.SONAR_URL}} -Dsonar.projectName="Spring Boot Realworld" -Dsonar.projectKey={{.SONAR_PROJECT_KEY}} -Dsonar.token={{.SONAR_TOKEN}}
